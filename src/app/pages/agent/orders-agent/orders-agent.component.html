<!DOCTYPE html>
<div>
    <p>Ã“rdenes de compra</p>
    <div class="tab">
        <mat-tab-group #tabRef (selectedTabChange)="viewOrders(tabRef.selectedIndex-1)">
            <mat-tab label="Todos"></mat-tab>
            <mat-tab label="Pendientes"></mat-tab>
            <mat-tab label="Entregados"></mat-tab>
        </mat-tab-group>
    </div>
    
      <mat-form-field appearance="fill" >
        <mat-label>Desde</mat-label>
        <input matInput [matDatepicker]="picker1" [formControl]="date1">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Hasta</mat-label>
        <input matInput [matDatepicker]="picker2" [formControl]="date2">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
      <br>
      <button mat-raised-button color="primary" 
      style=
      "margin-left:  20px;
      width: 100px;">Mostrar</button>
    <br>
    <div > 
      <mat-form-field>
        <mat-label>Filtro</mat-label>
        <input
          matInput
          (keyup)="applyFilter($event)"
          placeholder=""
          #input
        />
      </mat-form-field>
    </div>
</div>





<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox
            (change)="$event ? masterToggle() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"
            [aria-label]="checkboxLabel()"
          >
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox
            (click)="$event.stopPropagation()"
            (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)"
            [aria-label]="checkboxLabel(row)"
          >
          </mat-checkbox>
        </td>
      </ng-container>
  
      <ng-container matColumnDef="idPurchase">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_COMPRA</th>
        <td mat-cell *matCellDef="let row">
           {{ row.idPurchase }}
        </td>
      </ng-container>
      
      <ng-container matColumnDef="idClient">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_CLIENTE</th>
        <td mat-cell *matCellDef="let row">
          {{ row.idClient }}
        </td>
      </ng-container>
  
      <ng-container matColumnDef="idSeller">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_VENDEDOR</th>
        <td mat-cell *matCellDef="let row">{{ row.idSeller }}</td>
      </ng-container>

      <ng-container matColumnDef="idStatusPurchase">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_ESTADO_COMPRA</th>
        <td mat-cell *matCellDef="let row">{{ row.idStatusPurchase }}</td>
      </ng-container>
      
      <ng-container matColumnDef="idStatusPayment">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_ESTADO_PAGO</th>
        <td mat-cell *matCellDef="let row">{{ row.idStatusPayment }}</td>
      </ng-container>     

      <ng-container matColumnDef="deliveryTipe">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_TIPO_ENTREGA</th>
        <td mat-cell *matCellDef="let row">{{ row.deliveryTipe }}</td>
      </ng-container>

      <ng-container matColumnDef="discount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID_DESCUENTO</th>
        <td mat-cell *matCellDef="let row">{{ row.discount }}</td>
      </ng-container>

      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ACCIONES</th>
        <td mat-cell *matCellDef="let row; let j = index" fxLayoutGap="5px">
          <button
            mat-icon-button
            (click)="null"
            routerLink="{{ row.idPurchase }}"
          >
            <mat-icon>visibility</mat-icon>
          </button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns"></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="8">
          No hay datos que coincidan con el filtro "{{ input.value }}"
        </td>
      </tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[5, 10, 20, 100]"></mat-paginator>
</div>